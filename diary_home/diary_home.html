<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/diary_home.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css" />
  <script  src="http://code.jquery.com/jquery-latest.min.js"></script>
  <title>다이어리 HOME</title>
</head>

<!-- 공통 상단좌측메뉴 -->
<script>
  $(function() {
    // GNB 클릭
    $('#menu ul li').on('click', function() {
      $('#menu ul li').removeClass('active');
      $(this).addClass('active');
    });
  });
</script>
</head>
<body>
<!-- 최상단 메뉴 -->
<div id="top_nav">
  <h1><a href="#"></a></h1>
  <ul class="top_menu">
    <li><a href="#"><img src="images/search_icon.png" alt=""></a></li>
    <li><a href="#"><img src="images/bell_off_icon.png" alt=""></a></li>
    <li><a href="#">마이페이지</a></li>
  </ul>

</div>

<!-- 좌측 gnb -->
<div id="gnb">

  <!-- 프로필 -->
  <div id="user_profile">
    <div id="pimg">
      <img src="images/default_profile.png" alt="">
    </div>
    <p id="uName">김용준</p>
    <p id="uEmail">kyjoon0105@gmail.com</p>
  </div>

  <!-- Nav -->
  <nav id="menu">
    <ul>
      <a href="#"><li class="menu_item">우리 가족 이야기</li></a>
      <a href="#"><li class="menu_item active">다이어리</li></a>
      <a href="#"><li class="menu_item">감정 돌아보기</li></a>
      <a href="#"><li class="menu_item">우리가족</li></a>
      <a href="#"><li class="menu_item">캘린더</li></a>
      <a href="#"><li class="menu_item">알려드려요</li></a>
    </ul>
  </nav>

  <!-- logout -->
  <div id="logout">
    <a href="#"><span>로그아웃</span></a>
  </div>
  
</div>
<!-- 공통 상단좌측메뉴 -->


<!-- 다이어리 HOME -->
<!-- 상단부분 -->
<div id="all_area">
  <div id="title_area">
    <p id="topTit">다이어리<span id="searchBar"><input type="text" name="search" placeholder="검색"></span></p>      
  </div>

  <!-- 메인부분 -->
  <div id="main_area">
    <button type="button" id="leftBtn"><img src="images/Arrow_drop_left.png" alt=""></button>
    <div class="carousel">
      <div class="card"><a href="#"><img src="images/diary.png" alt=""></a></div>
      <div class="card"><a href="#"><img src="images/diary.png" alt=""></a></div>
      <div class="card"><a href="#"><img src="images/diary.png" alt=""></a></div>
    </div>
    <button type="button" id="rightBtn"><img src="images/Arrow_drop_right.png" alt=""></button>      
  </div>

  <script>
    const carousel = document.querySelector(".carousel");
    const cards = document.querySelectorAll(".card");
    const leftArrow = document.querySelector(".left-arrow");
    const rightArrow = document.querySelector(".right-arrow");

    let currentIndex = 1; // 중앙 카드의 초기 인덱스 (0부터 시작)
    const cardWidth = cards[0].offsetWidth + 20; // 카드의 너비 + 간격

    // 캐러셀 초기화
    function updateCarousel() {
        cards.forEach((card, index) => {
            const offset = index - currentIndex;

            // 카드의 위치와 스타일 업데이트
            card.style.transform = `translateX(${offset * cardWidth}px)`;

            if (offset === 0) {
                // 중앙 카드 강조
                card.classList.add("active");
            } else {
                // 나머지 카드는 축소 상태
                card.classList.remove("active");
            }

            // 투명도 설정
            card.style.opacity = offset === 0 ? "1" : "0.7";
        });

        // 전체 캐러셀 이동
        const offsetX = -(currentIndex - 1) * cardWidth;
        carousel.style.transform = `translateX(${offsetX}px)`;
    }

    // 왼쪽 화살표 클릭
    leftArrow.addEventListener("click", () => {
        currentIndex = (currentIndex - 1 + cards.length) % cards.length; // 무한 순환
        updateCarousel();
    });

    // 오른쪽 화살표 클릭
    rightArrow.addEventListener("click", () => {
        currentIndex = (currentIndex + 1) % cards.length; // 무한 순환
        updateCarousel();
    });

    // 초기화
    updateCarousel();
  </script>


</div>
  
</body>
</html>